var et=Object.defineProperty;var tt=(n,e,t)=>e in n?et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pe=(n,e,t)=>tt(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();function k(){}function ie(n,e){for(const t in e)n[t]=e[t];return n}function ze(n){return n()}function xe(){return Object.create(null)}function X(n){n.forEach(ze)}function be(n){return typeof n=="function"}function R(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function nt(n){return Object.keys(n).length===0}function Ge(n,...e){if(n==null){for(const s of e)s(void 0);return k}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Xe(n,e,t){n.$$.on_destroy.push(Ge(e,t))}function d(n,e){n.appendChild(e)}function b(n,e,t){n.insertBefore(e,t||null)}function g(n){n.parentNode&&n.parentNode.removeChild(n)}function ye(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function m(n){return document.createElement(n)}function $(n){return document.createTextNode(n)}function O(){return $(" ")}function te(){return $("")}function Se(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function st(n){return Array.from(n.childNodes)}function j(n,e){e=""+e,n.data!==e&&(n.data=e)}function L(n,e,t){n.classList.toggle(e,!!t)}function lt(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}function ce(n,e){return new n(e)}let se;function ne(n){se=n}function fe(){if(!se)throw new Error("Function called outside component initialization");return se}function Y(n){fe().$$.on_mount.push(n)}function rt(n){fe().$$.after_update.push(n)}function ot(n){fe().$$.on_destroy.push(n)}function it(){const n=fe();return(e,t,{cancelable:s=!1}={})=>{const l=n.$$.callbacks[e];if(l){const i=lt(e,t,{cancelable:s});return l.slice().forEach(r=>{r.call(n,i)}),!i.defaultPrevented}return!0}}function Ee(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const Z=[],Ce=[];let ee=[];const Oe=[],Ye=Promise.resolve();let he=!1;function Ke(){he||(he=!0,Ye.then(Ve))}function ct(){return Ke(),Ye}function me(n){ee.push(n)}const _e=new Set;let W=0;function Ve(){if(W!==0)return;const n=se;do{try{for(;W<Z.length;){const e=Z[W];W++,ne(e),at(e.$$)}}catch(e){throw Z.length=0,W=0,e}for(ne(null),Z.length=0,W=0;Ce.length;)Ce.pop()();for(let e=0;e<ee.length;e+=1){const t=ee[e];_e.has(t)||(_e.add(t),t())}ee.length=0}while(Z.length);for(;Oe.length;)Oe.pop()();he=!1,_e.clear(),ne(n)}function at(n){if(n.fragment!==null){n.update(),X(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(me)}}function ut(n){const e=[],t=[];ee.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),ee=e}const oe=new Set;let V;function we(){V={r:0,c:[],p:V}}function $e(){V.r||X(V.c),V=V.p}function T(n,e){n&&n.i&&(oe.delete(n),n.i(e))}function I(n,e,t,s){if(n&&n.o){if(oe.has(n))return;oe.add(n),V.c.push(()=>{oe.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function G(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ft(n,e){n.d(1),e.delete(n.key)}function dt(n,e,t,s,l,i,r,o,c,a,u,f){let _=n.length,y=i.length,p=_;const w={};for(;p--;)w[n[p].key]=p;const v=[],A=new Map,D=new Map,K=[];for(p=y;p--;){const C=f(l,i,p),N=t(C);let P=r.get(N);P?K.push(()=>P.p(C,e)):(P=a(N,C),P.c()),A.set(N,v[p]=P),N in w&&D.set(N,Math.abs(p-w[N]))}const x=new Set,S=new Set;function E(C){T(C,1),C.m(o,u),r.set(C.key,C),u=C.first,y--}for(;_&&y;){const C=v[y-1],N=n[_-1],P=C.key,z=N.key;C===N?(u=C.first,_--,y--):A.has(z)?!r.has(P)||x.has(P)?E(C):S.has(z)?_--:D.get(P)>D.get(z)?(S.add(P),E(C)):(x.add(z),_--):(c(N,r),_--)}for(;_--;){const C=n[_];A.has(C.key)||c(C,r)}for(;y;)E(v[y-1]);return X(K),v}function ae(n,e){const t={},s={},l={$$scope:1};let i=n.length;for(;i--;){const r=n[i],o=e[i];if(o){for(const c in r)c in o||(s[c]=1);for(const c in o)l[c]||(t[c]=o[c],l[c]=1);n[i]=o}else for(const c in r)l[c]=1}for(const r in s)r in t||(t[r]=void 0);return t}function ue(n){return typeof n=="object"&&n!==null?n:{}}function J(n){n&&n.c()}function q(n,e,t){const{fragment:s,after_update:l}=n.$$;s&&s.m(e,t),me(()=>{const i=n.$$.on_mount.map(ze).filter(be);n.$$.on_destroy?n.$$.on_destroy.push(...i):X(i),n.$$.on_mount=[]}),l.forEach(me)}function H(n,e){const t=n.$$;t.fragment!==null&&(ut(t.after_update),X(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function pt(n,e){n.$$.dirty[0]===-1&&(Z.push(n),Ke(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function F(n,e,t,s,l,i,r=null,o=[-1]){const c=se;ne(n);const a=n.$$={fragment:null,ctx:[],props:i,update:k,not_equal:l,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:xe(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};r&&r(a.root);let u=!1;if(a.ctx=t?t(n,e.props||{},(f,_,...y)=>{const p=y.length?y[0]:_;return a.ctx&&l(a.ctx[f],a.ctx[f]=p)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](p),u&&pt(n,f)),_}):[],a.update(),u=!0,X(a.before_update),a.fragment=s?s(a.ctx):!1,e.target){if(e.hydrate){const f=st(e.target);a.fragment&&a.fragment.l(f),f.forEach(g)}else a.fragment&&a.fragment.c();e.intro&&T(n.$$.fragment),q(n,e.target,e.anchor),Ve()}ne(c)}class M{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){H(this,1),this.$destroy=k}$on(e,t){if(!be(t))return k;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _t="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_t);const Q=[];function We(n,e){return{subscribe:de(n,e).subscribe}}function de(n,e=k){let t;const s=new Set;function l(o){if(R(n,o)&&(n=o,t)){const c=!Q.length;for(const a of s)a[1](),Q.push(a,n);if(c){for(let a=0;a<Q.length;a+=2)Q[a][0](Q[a+1]);Q.length=0}}}function i(o){l(o(n))}function r(o,c=k){const a=[o,c];return s.add(a),s.size===1&&(t=e(l,i)||k),o(n),()=>{s.delete(a),s.size===0&&t&&(t(),t=null)}}return{set:l,update:i,subscribe:r}}function Qe(n,e,t){const s=!Array.isArray(n),l=s?[n]:n;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return We(t,(r,o)=>{let c=!1;const a=[];let u=0,f=k;const _=()=>{if(u)return;f();const p=e(s?a[0]:a,r,o);i?r(p):f=be(p)?p:k},y=l.map((p,w)=>Ge(p,v=>{a[w]=v,u&=~(1<<w),c&&_()},()=>{u|=1<<w}));return c=!0,_(),function(){X(y),f(),c=!1}})}const Ze="/api/v1/demo";let le=null;async function ht(){if(le)return le;try{const n=await fetch(`${Ze.replace(/\/demo$/,"")}/auth/csrf`);n.ok&&(le=(await n.json()).token||null)}catch{}return le||""}async function B(n,e={}){const t=`${Ze}${n}`,s=new Headers(e.headers);if(e.method&&e.method!=="GET"&&e.method!=="HEAD"){const o=await ht();o&&s.set("X-CSRF-Token",o),s.has("Content-Type")||s.set("Content-Type","application/json")}const l=await fetch(t,{credentials:"same-origin",...e,headers:s}),i=await l.text(),r=i?JSON.parse(i):{};if(!l.ok||r!=null&&r.error)throw r!=null&&r.error?{code:r.error.code,message:r.error.message}:{message:l.statusText,code:l.status};return r}const Le=!0,ge=de({authenticated:!1});async function mt(){try{const n=await B("/auth/session");ge.set({authenticated:!!n.authenticated,user:n.user,volumes_locked:n.volumes_locked})}catch{ge.set({authenticated:!1})}}function gt(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,s,l,i,r=[],o="",c=n.split("/");for(c[0]||c.shift();l=c.shift();)t=l[0],t==="*"?(r.push("wild"),o+="/(.*)"):t===":"?(s=l.indexOf("?",1),i=l.indexOf(".",1),r.push(l.substring(1,~s?s:~i?i:l.length)),o+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~s?"?":"")+"\\"+l.substring(i))):o+="/"+l;return{keys:r,pattern:new RegExp("^"+o+"/?$","i")}}function bt(n){let e,t,s;const l=[n[2]];var i=n[0];function r(o,c){let a={};for(let u=0;u<l.length;u+=1)a=ie(a,l[u]);return c!==void 0&&c&4&&(a=ie(a,ae(l,[ue(o[2])]))),{props:a}}return i&&(e=ce(i,r(n)),e.$on("routeEvent",n[7])),{c(){e&&J(e.$$.fragment),t=te()},m(o,c){e&&q(e,o,c),b(o,t,c),s=!0},p(o,c){if(c&1&&i!==(i=o[0])){if(e){we();const a=e;I(a.$$.fragment,1,0,()=>{H(a,1)}),$e()}i?(e=ce(i,r(o,c)),e.$on("routeEvent",o[7]),J(e.$$.fragment),T(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else if(i){const a=c&4?ae(l,[ue(o[2])]):{};e.$set(a)}},i(o){s||(e&&T(e.$$.fragment,o),s=!0)},o(o){e&&I(e.$$.fragment,o),s=!1},d(o){o&&g(t),e&&H(e,o)}}}function yt(n){let e,t,s;const l=[{params:n[1]},n[2]];var i=n[0];function r(o,c){let a={};for(let u=0;u<l.length;u+=1)a=ie(a,l[u]);return c!==void 0&&c&6&&(a=ie(a,ae(l,[c&2&&{params:o[1]},c&4&&ue(o[2])]))),{props:a}}return i&&(e=ce(i,r(n)),e.$on("routeEvent",n[6])),{c(){e&&J(e.$$.fragment),t=te()},m(o,c){e&&q(e,o,c),b(o,t,c),s=!0},p(o,c){if(c&1&&i!==(i=o[0])){if(e){we();const a=e;I(a.$$.fragment,1,0,()=>{H(a,1)}),$e()}i?(e=ce(i,r(o,c)),e.$on("routeEvent",o[6]),J(e.$$.fragment),T(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else if(i){const a=c&6?ae(l,[c&2&&{params:o[1]},c&4&&ue(o[2])]):{};e.$set(a)}},i(o){s||(e&&T(e.$$.fragment,o),s=!0)},o(o){e&&I(e.$$.fragment,o),s=!1},d(o){o&&g(t),e&&H(e,o)}}}function wt(n){let e,t,s,l;const i=[yt,bt],r=[];function o(c,a){return c[1]?0:1}return e=o(n),t=r[e]=i[e](n),{c(){t.c(),s=te()},m(c,a){r[e].m(c,a),b(c,s,a),l=!0},p(c,[a]){let u=e;e=o(c),e===u?r[e].p(c,a):(we(),I(r[u],1,1,()=>{r[u]=null}),$e(),t=r[e],t?t.p(c,a):(t=r[e]=i[e](c),t.c()),T(t,1),t.m(s.parentNode,s))},i(c){l||(T(t),l=!0)},o(c){I(t),l=!1},d(c){c&&g(s),r[e].d(c)}}}function je(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let s="";return t>-1&&(s=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:s}}const ke=We(null,function(e){e(je());const t=()=>{e(je())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});Qe(ke,n=>n.location);Qe(ke,n=>n.querystring);const Ne=de(void 0);function $t(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function kt(n,e,t){let{routes:s={}}=e,{prefix:l=""}=e,{restoreScrollState:i=!1}=e;class r{constructor(S,E){if(!E||typeof E!="function"&&(typeof E!="object"||E._sveltesparouter!==!0))throw Error("Invalid component object");if(!S||typeof S=="string"&&(S.length<1||S.charAt(0)!="/"&&S.charAt(0)!="*")||typeof S=="object"&&!(S instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:C,keys:N}=gt(S);this.path=S,typeof E=="object"&&E._sveltesparouter===!0?(this.component=E.component,this.conditions=E.conditions||[],this.userData=E.userData,this.props=E.props||{}):(this.component=()=>Promise.resolve(E),this.conditions=[],this.props={}),this._pattern=C,this._keys=N}match(S){if(l){if(typeof l=="string")if(S.startsWith(l))S=S.substr(l.length)||"/";else return null;else if(l instanceof RegExp){const P=S.match(l);if(P&&P[0])S=S.substr(P[0].length)||"/";else return null}}const E=this._pattern.exec(S);if(E===null)return null;if(this._keys===!1)return E;const C={};let N=0;for(;N<this._keys.length;){try{C[this._keys[N]]=decodeURIComponent(E[N+1]||"")||null}catch{C[this._keys[N]]=null}N++}return C}async checkConditions(S){for(let E=0;E<this.conditions.length;E++)if(!await this.conditions[E](S))return!1;return!0}}const o=[];s instanceof Map?s.forEach((x,S)=>{o.push(new r(S,x))}):Object.keys(s).forEach(x=>{o.push(new r(x,s[x]))});let c=null,a=null,u={};const f=it();async function _(x,S){await ct(),f(x,S)}let y=null,p=null;i&&(p=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?y=x.state:y=null},window.addEventListener("popstate",p),rt(()=>{$t(y)}));let w=null,v=null;const A=ke.subscribe(async x=>{w=x;let S=0;for(;S<o.length;){const E=o[S].match(x.location);if(!E){S++;continue}const C={route:o[S].path,location:x.location,querystring:x.querystring,userData:o[S].userData,params:E&&typeof E=="object"&&Object.keys(E).length?E:null};if(!await o[S].checkConditions(C)){t(0,c=null),v=null,_("conditionsFailed",C);return}_("routeLoading",Object.assign({},C));const N=o[S].component;if(v!=N){N.loading?(t(0,c=N.loading),v=N,t(1,a=N.loadingParams),t(2,u={}),_("routeLoaded",Object.assign({},C,{component:c,name:c.name,params:a}))):(t(0,c=null),v=null);const P=await N();if(x!=w)return;t(0,c=P&&P.default||P),v=N}E&&typeof E=="object"&&Object.keys(E).length?t(1,a=E):t(1,a=null),t(2,u=o[S].props),_("routeLoaded",Object.assign({},C,{component:c,name:c.name,params:a})).then(()=>{Ne.set(a)});return}t(0,c=null),v=null,Ne.set(void 0)});ot(()=>{A(),p&&window.removeEventListener("popstate",p)});function D(x){Ee.call(this,n,x)}function K(x){Ee.call(this,n,x)}return n.$$set=x=>{"routes"in x&&t(3,s=x.routes),"prefix"in x&&t(4,l=x.prefix),"restoreScrollState"in x&&t(5,i=x.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[c,a,u,s,l,i,D,K]}class vt extends M{constructor(e){super(),F(this,e,kt,wt,R,{routes:3,prefix:4,restoreScrollState:5})}}function Pe(n){let e,t=n[0].overall+"",s;return{c(){e=m("span"),s=$(t),h(e,"class","text-xs px-2 py-0.5 rounded"),L(e,"bg-green-100",n[0].overall==="healthy"),L(e,"text-green-800",n[0].overall==="healthy"),L(e,"bg-yellow-100",n[0].overall==="degraded"),L(e,"text-yellow-800",n[0].overall==="degraded"),L(e,"bg-red-100",n[0].overall==="unhealthy"),L(e,"text-red-800",n[0].overall==="unhealthy")},m(l,i){b(l,e,i),d(e,s)},p(l,i){i&1&&t!==(t=l[0].overall+"")&&j(s,t),i&1&&L(e,"bg-green-100",l[0].overall==="healthy"),i&1&&L(e,"text-green-800",l[0].overall==="healthy"),i&1&&L(e,"bg-yellow-100",l[0].overall==="degraded"),i&1&&L(e,"text-yellow-800",l[0].overall==="degraded"),i&1&&L(e,"bg-red-100",l[0].overall==="unhealthy"),i&1&&L(e,"text-red-800",l[0].overall==="unhealthy")},d(l){l&&g(e)}}}function xt(n){let e,t=n[0].summary+"",s;return{c(){e=m("p"),s=$(t),h(e,"class","text-sm text-gray-700")},m(l,i){b(l,e,i),d(e,s)},p(l,i){i&1&&t!==(t=l[0].summary+"")&&j(s,t)},d(l){l&&g(e)}}}function St(n){let e,t;return{c(){e=m("p"),t=$(n[2]),h(e,"class","text-sm text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&4&&j(t,s[2])},d(s){s&&g(e)}}}function Et(n){let e;return{c(){e=m("p"),e.textContent="Loading…",h(e,"class","text-sm text-gray-500")},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function Ct(n){let e,t,s,l,i,r=n[0]&&Pe(n);function o(u,f){return u[1]?Et:u[2]?St:xt}let c=o(n),a=c(n);return{c(){e=m("div"),t=m("div"),s=m("h3"),s.textContent="Health",l=O(),r&&r.c(),i=O(),a.c(),h(s,"class","font-medium"),h(t,"class","flex items-center justify-between mb-2"),h(e,"class","p-4 bg-white rounded border")},m(u,f){b(u,e,f),d(e,t),d(t,s),d(t,l),r&&r.m(t,null),d(e,i),a.m(e,null)},p(u,[f]){u[0]?r?r.p(u,f):(r=Pe(u),r.c(),r.m(t,null)):r&&(r.d(1),r=null),c===(c=o(u))&&a?a.p(u,f):(a.d(1),a=c(u),a&&(a.c(),a.m(e,null)))},i:k,o:k,d(u){u&&g(e),r&&r.d(),a.d()}}}function Ot(n,e,t){let s=null,l=!0,i="";return Y(async()=>{try{t(0,s=await B("/health"))}catch(r){t(2,i=(r==null?void 0:r.message)||"Failed to load health")}finally{t(1,l=!1)}}),[s,l,i]}class Lt extends M{constructor(e){super(),F(this,e,Ot,Ct,R,{})}}function Ae(n,e,t){const s=n.slice();return s[3]=e[t],s}function jt(n){var a,u;let e,t=(((a=n[0].services)==null?void 0:a.length)||0)+"",s,l,i,r,o=G(((u=n[0].services)==null?void 0:u.slice(0,5))??[]),c=[];for(let f=0;f<o.length;f+=1)c[f]=Te(Ae(n,o,f));return{c(){e=m("p"),s=$(t),l=$(" services"),i=O(),r=m("ul");for(let f=0;f<c.length;f+=1)c[f].c();h(e,"class","text-sm text-gray-700 mb-2"),h(r,"class","text-sm list-disc ml-5 space-y-1")},m(f,_){b(f,e,_),d(e,s),d(e,l),b(f,i,_),b(f,r,_);for(let y=0;y<c.length;y+=1)c[y]&&c[y].m(r,null)},p(f,_){var y,p;if(_&1&&t!==(t=(((y=f[0].services)==null?void 0:y.length)||0)+"")&&j(s,t),_&1){o=G(((p=f[0].services)==null?void 0:p.slice(0,5))??[]);let w;for(w=0;w<o.length;w+=1){const v=Ae(f,o,w);c[w]?c[w].p(v,_):(c[w]=Te(v),c[w].c(),c[w].m(r,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=o.length}},d(f){f&&(g(e),g(i),g(r)),ye(c,f)}}}function Nt(n){let e,t;return{c(){e=m("p"),t=$(n[2]),h(e,"class","text-sm text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&4&&j(t,s[2])},d(s){s&&g(e)}}}function Pt(n){let e;return{c(){e=m("p"),e.textContent="Loading…",h(e,"class","text-sm text-gray-500")},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function Te(n){let e,t,s=n[3].app+"",l,i,r=n[3].name+"",o,c,a=(n[3].local_url||"127.0.0.1:"+n[3].host_port)+"",u;return{c(){e=m("li"),t=m("span"),l=$(s),i=$("/"),o=$(r),c=$(" → "),u=$(a),h(t,"class","font-mono")},m(f,_){b(f,e,_),d(e,t),d(t,l),d(e,i),d(e,o),d(e,c),d(e,u)},p(f,_){_&1&&s!==(s=f[3].app+"")&&j(l,s),_&1&&r!==(r=f[3].name+"")&&j(o,r),_&1&&a!==(a=(f[3].local_url||"127.0.0.1:"+f[3].host_port)+"")&&j(u,a)},d(f){f&&g(e)}}}function At(n){let e,t,s;function l(o,c){return o[1]?Pt:o[2]?Nt:jt}let i=l(n),r=i(n);return{c(){e=m("div"),t=m("h3"),t.textContent="Services",s=O(),r.c(),h(t,"class","font-medium mb-2"),h(e,"class","p-4 bg-white rounded border")},m(o,c){b(o,e,c),d(e,t),d(e,s),r.m(e,null)},p(o,[c]){i===(i=l(o))&&r?r.p(o,c):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},i:k,o:k,d(o){o&&g(e),r.d()}}}function Tt(n,e,t){let s=null,l=!0,i="";return Y(async()=>{try{t(0,s=await B("/services"))}catch(r){t(2,i=(r==null?void 0:r.message)||"Failed to load services")}finally{t(1,l=!1)}}),[s,l,i]}class Rt extends M{constructor(e){super(),F(this,e,Tt,At,R,{})}}function Dt(n){var c,a;let e,t=(((c=n[0].disks)==null?void 0:c.length)||0)+"",s,l,i=(((a=n[1].mounts)==null?void 0:a.length)||0)+"",r,o;return{c(){e=m("p"),s=$(t),l=$(" disks; "),r=$(i),o=$(" mounts"),h(e,"class","text-sm text-gray-700")},m(u,f){b(u,e,f),d(e,s),d(e,l),d(e,r),d(e,o)},p(u,f){var _,y;f&1&&t!==(t=(((_=u[0].disks)==null?void 0:_.length)||0)+"")&&j(s,t),f&2&&i!==(i=(((y=u[1].mounts)==null?void 0:y.length)||0)+"")&&j(r,i)},d(u){u&&g(e)}}}function Ft(n){let e,t;return{c(){e=m("p"),t=$(n[3]),h(e,"class","text-sm text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&8&&j(t,s[3])},d(s){s&&g(e)}}}function Mt(n){let e;return{c(){e=m("p"),e.textContent="Loading…",h(e,"class","text-sm text-gray-500")},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function It(n){let e,t,s;function l(o,c){return o[2]?Mt:o[3]?Ft:Dt}let i=l(n),r=i(n);return{c(){e=m("div"),t=m("h3"),t.textContent="Storage",s=O(),r.c(),h(t,"class","font-medium mb-2"),h(e,"class","p-4 bg-white rounded border")},m(o,c){b(o,e,c),d(e,t),d(e,s),r.m(e,null)},p(o,[c]){i===(i=l(o))&&r?r.p(o,c):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},i:k,o:k,d(o){o&&g(e),r.d()}}}function Ut(n,e,t){let s=null,l=null,i=!0,r="";return Y(async()=>{try{t(0,[s,l]=await Promise.all([B("/storage/disks"),B("/storage/mounts")]),s,t(1,l))}catch(o){t(3,r=(o==null?void 0:o.message)||"Failed to load storage")}finally{t(2,i=!1)}}),[s,l,i,r]}class qt extends M{constructor(e){super(),F(this,e,Ut,It,R,{})}}function Ht(n){var w;let e,t,s=n[0].current_version+"",l,i,r=n[0].available_version+"",o,c,a,u,f,_=(((w=n[1].apps)==null?void 0:w.filter(De).length)||0)+"",y,p=n[0].pending&&Re();return{c(){e=m("p"),t=$("OS: "),l=$(s),i=$(" → "),o=$(r),c=O(),p&&p.c(),a=O(),u=m("p"),f=$("Apps with updates: "),y=$(_),h(e,"class","text-sm"),h(u,"class","text-sm")},m(v,A){b(v,e,A),d(e,t),d(e,l),d(e,i),d(e,o),d(e,c),p&&p.m(e,null),b(v,a,A),b(v,u,A),d(u,f),d(u,y)},p(v,A){var D;A&1&&s!==(s=v[0].current_version+"")&&j(l,s),A&1&&r!==(r=v[0].available_version+"")&&j(o,r),v[0].pending?p||(p=Re(),p.c(),p.m(e,null)):p&&(p.d(1),p=null),A&2&&_!==(_=(((D=v[1].apps)==null?void 0:D.filter(De).length)||0)+"")&&j(y,_)},d(v){v&&(g(e),g(a),g(u)),p&&p.d()}}}function Bt(n){let e,t;return{c(){e=m("p"),t=$(n[3]),h(e,"class","text-sm text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&8&&j(t,s[3])},d(s){s&&g(e)}}}function Jt(n){let e;return{c(){e=m("p"),e.textContent="Loading…",h(e,"class","text-sm text-gray-500")},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function Re(n){let e;return{c(){e=$("(pending)")},m(t,s){b(t,e,s)},d(t){t&&g(e)}}}function zt(n){let e,t,s;function l(o,c){return o[2]?Jt:o[3]?Bt:Ht}let i=l(n),r=i(n);return{c(){e=m("div"),t=m("h3"),t.textContent="Updates",s=O(),r.c(),h(t,"class","font-medium mb-2"),h(e,"class","p-4 bg-white rounded border")},m(o,c){b(o,e,c),d(e,t),d(e,s),r.m(e,null)},p(o,[c]){i===(i=l(o))&&r?r.p(o,c):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},i:k,o:k,d(o){o&&g(e),r.d()}}}const De=n=>n.update_available;function Gt(n,e,t){let s=null,l=null,i=!0,r="";return Y(async()=>{try{t(0,[s,l]=await Promise.all([B("/updates/os"),B("/updates/apps")]),s,t(1,l))}catch(o){t(3,r=(o==null?void 0:o.message)||"Failed to load updates")}finally{t(2,i=!1)}}),[s,l,i,r]}class Xt extends M{constructor(e){super(),F(this,e,Gt,zt,R,{})}}function Fe(n,e,t){const s=n.slice();return s[3]=e[t],s}function Yt(n){var i;let e,t,s,l=((i=n[0].warnings)==null?void 0:i.length)&&Me(n);return{c(){e=m("p"),e.textContent="Disabled",t=O(),l&&l.c(),s=te(),h(e,"class","text-sm")},m(r,o){b(r,e,o),b(r,t,o),l&&l.m(r,o),b(r,s,o)},p(r,o){var c;(c=r[0].warnings)!=null&&c.length?l?l.p(r,o):(l=Me(r),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(r){r&&(g(e),g(t),g(s)),l&&l.d(r)}}}function Kt(n){let e,t,s,l=n[0].public_url+"",i,r,o,c,a,u=n[0].issuer+"",f,_,y=n[0].expires_at+"",p;return{c(){e=m("p"),t=$("Enabled: "),s=m("a"),i=$(l),o=O(),c=m("p"),a=$("Cert: "),f=$(u),_=$(", expires "),p=$(y),h(s,"class","text-blue-600 underline"),h(s,"href",r=n[0].public_url),h(s,"rel","noopener"),h(s,"target","_blank"),h(e,"class","text-sm"),h(c,"class","text-xs text-gray-600")},m(w,v){b(w,e,v),d(e,t),d(e,s),d(s,i),b(w,o,v),b(w,c,v),d(c,a),d(c,f),d(c,_),d(c,p)},p(w,v){v&1&&l!==(l=w[0].public_url+"")&&j(i,l),v&1&&r!==(r=w[0].public_url)&&h(s,"href",r),v&1&&u!==(u=w[0].issuer+"")&&j(f,u),v&1&&y!==(y=w[0].expires_at+"")&&j(p,y)},d(w){w&&(g(e),g(o),g(c))}}}function Vt(n){let e,t;return{c(){e=m("p"),t=$(n[2]),h(e,"class","text-sm text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&4&&j(t,s[2])},d(s){s&&g(e)}}}function Wt(n){let e;return{c(){e=m("p"),e.textContent="Loading…",h(e,"class","text-sm text-gray-500")},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function Me(n){let e,t=G(n[0].warnings),s=[];for(let l=0;l<t.length;l+=1)s[l]=Ie(Fe(n,t,l));return{c(){e=m("ul");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"class","text-xs text-yellow-800 bg-yellow-50 border border-yellow-200 rounded p-2 mt-2 list-disc ml-5")},m(l,i){b(l,e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(l,i){if(i&1){t=G(l[0].warnings);let r;for(r=0;r<t.length;r+=1){const o=Fe(l,t,r);s[r]?s[r].p(o,i):(s[r]=Ie(o),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){l&&g(e),ye(s,l)}}}function Ie(n){let e,t=n[3]+"",s;return{c(){e=m("li"),s=$(t)},m(l,i){b(l,e,i),d(e,s)},p(l,i){i&1&&t!==(t=l[3]+"")&&j(s,t)},d(l){l&&g(e)}}}function Qt(n){let e,t,s;function l(o,c){return o[1]?Wt:o[2]?Vt:o[0].enabled?Kt:Yt}let i=l(n),r=i(n);return{c(){e=m("div"),t=m("h3"),t.textContent="Remote Access",s=O(),r.c(),h(t,"class","font-medium mb-2"),h(e,"class","p-4 bg-white rounded border")},m(o,c){b(o,e,c),d(e,t),d(e,s),r.m(e,null)},p(o,[c]){i===(i=l(o))&&r?r.p(o,c):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},i:k,o:k,d(o){o&&g(e),r.d()}}}function Zt(n,e,t){let s=null,l=!0,i="";return Y(async()=>{try{t(0,s=await B("/remote/status"))}catch(r){t(2,i=(r==null?void 0:r.message)||"Failed to load remote status")}finally{t(1,l=!1)}}),[s,l,i]}class en extends M{constructor(e){super(),F(this,e,Zt,Qt,R,{})}}function tn(n){let e,t,s,l,i,r,o,c,a,u,f,_,y;return l=new Lt({}),r=new Rt({}),c=new qt({}),u=new Xt({}),_=new en({}),{c(){e=m("h2"),e.textContent="Dashboard",t=O(),s=m("div"),J(l.$$.fragment),i=O(),J(r.$$.fragment),o=O(),J(c.$$.fragment),a=O(),J(u.$$.fragment),f=O(),J(_.$$.fragment),h(e,"class","text-xl font-semibold mb-4"),h(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(p,w){b(p,e,w),b(p,t,w),b(p,s,w),q(l,s,null),d(s,i),q(r,s,null),d(s,o),q(c,s,null),d(s,a),q(u,s,null),d(s,f),q(_,s,null),y=!0},p:k,i(p){y||(T(l.$$.fragment,p),T(r.$$.fragment,p),T(c.$$.fragment,p),T(u.$$.fragment,p),T(_.$$.fragment,p),y=!0)},o(p){I(l.$$.fragment,p),I(r.$$.fragment,p),I(c.$$.fragment,p),I(u.$$.fragment,p),I(_.$$.fragment,p),y=!1},d(p){p&&(g(e),g(t),g(s)),H(l),H(r),H(c),H(u),H(_)}}}class nn extends M{constructor(e){super(),F(this,e,null,tn,R,{})}}const ve=de([]);let sn=0;const ln=ve;function re(n,e="info"){const t=++sn;return ve.update(s=>[...s,{id:t,message:n,type:e}]),t}function rn(n){ve.update(e=>e.filter(t=>t.id!==n))}function Ue(n,e,t){const s=n.slice();return s[8]=e[t],s}function on(n){let e,t,s,l,i=G(n[0].data??[]),r=[];for(let o=0;o<i.length;o+=1)r[o]=qe(Ue(n,i,o));return{c(){e=m("table"),t=m("thead"),t.innerHTML='<tr><th class="text-left p-2 border-b">Name</th> <th class="text-left p-2 border-b">Image</th> <th class="text-left p-2 border-b">Status</th> <th class="text-left p-2 border-b">Actions</th></tr>',s=O(),l=m("tbody");for(let o=0;o<r.length;o+=1)r[o].c();h(t,"class","bg-gray-50 text-gray-700"),h(e,"class","w-full text-sm bg-white rounded border")},m(o,c){b(o,e,c),d(e,t),d(e,s),d(e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,null)},p(o,c){if(c&25){i=G(o[0].data??[]);let a;for(a=0;a<i.length;a+=1){const u=Ue(o,i,a);r[a]?r[a].p(u,c):(r[a]=qe(u),r[a].c(),r[a].m(l,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}},d(o){o&&g(e),ye(r,o)}}}function cn(n){let e,t;return{c(){e=m("p"),t=$(n[1]),h(e,"class","text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&2&&j(t,s[1])},d(s){s&&g(e)}}}function an(n){let e;return{c(){e=m("p"),e.textContent="Loading…"},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function qe(n){let e,t,s,l=n[8].name+"",i,r,o,c,a=n[8].image+"",u,f,_,y,p=n[8].status+"",w,v,A,D,K,x,S,E,C;function N(){return n[5](n[8])}function P(){return n[6](n[8])}return{c(){e=m("tr"),t=m("td"),s=m("a"),i=$(l),o=O(),c=m("td"),u=$(a),f=O(),_=m("td"),y=m("span"),w=$(p),v=O(),A=m("td"),D=m("button"),D.textContent="Start",K=O(),x=m("button"),x.textContent="Stop",S=O(),h(s,"class","text-blue-600 underline"),h(s,"href",r=`/apps/${n[8].name}`),h(t,"class","p-2 align-top"),h(c,"class","p-2 align-top"),h(y,"class","px-2 py-0.5 rounded text-xs"),L(y,"bg-green-100",n[8].status==="running"),L(y,"text-green-800",n[8].status==="running"),L(y,"bg-yellow-100",n[8].status==="stopped"),L(y,"text-yellow-800",n[8].status==="stopped"),L(y,"bg-red-100",n[8].status==="error"),L(y,"text-red-800",n[8].status==="error"),h(_,"class","p-2 align-top"),h(D,"class","px-2 py-1 text-xs border rounded hover:bg-gray-50"),h(x,"class","px-2 py-1 text-xs border rounded hover:bg-gray-50"),h(A,"class","p-2 align-top space-x-2"),h(e,"class","border-b last:border-b-0")},m(z,U){b(z,e,U),d(e,t),d(t,s),d(s,i),d(e,o),d(e,c),d(c,u),d(e,f),d(e,_),d(_,y),d(y,w),d(e,v),d(e,A),d(A,D),d(A,K),d(A,x),d(e,S),E||(C=[Se(D,"click",N),Se(x,"click",P)],E=!0)},p(z,U){n=z,U&1&&l!==(l=n[8].name+"")&&j(i,l),U&1&&r!==(r=`/apps/${n[8].name}`)&&h(s,"href",r),U&1&&a!==(a=n[8].image+"")&&j(u,a),U&1&&p!==(p=n[8].status+"")&&j(w,p),U&1&&L(y,"bg-green-100",n[8].status==="running"),U&1&&L(y,"text-green-800",n[8].status==="running"),U&1&&L(y,"bg-yellow-100",n[8].status==="stopped"),U&1&&L(y,"text-yellow-800",n[8].status==="stopped"),U&1&&L(y,"bg-red-100",n[8].status==="error"),U&1&&L(y,"text-red-800",n[8].status==="error")},d(z){z&&g(e),E=!1,X(C)}}}function un(n){let e,t,s;function l(o,c){return o[2]?an:o[1]?cn:on}let i=l(n),r=i(n);return{c(){e=m("h2"),e.textContent="Apps",t=O(),r.c(),s=te(),h(e,"class","text-xl font-semibold mb-4")},m(o,c){b(o,e,c),b(o,t,c),r.m(o,c),b(o,s,c)},p(o,[c]){i===(i=l(o))&&r?r.p(o,c):(r.d(1),r=i(o),r&&(r.c(),r.m(s.parentNode,s)))},i:k,o:k,d(o){o&&(g(e),g(t),g(s)),r.d(o)}}}function fn(n,e,t){let s=null,l="",i=!0;Y(async()=>{await r()});async function r(){t(2,i=!0),t(1,l="");try{t(0,s=await B("/apps"))}catch(f){t(1,l=(f==null?void 0:f.message)||"Failed to load apps")}finally{t(2,i=!1)}}async function o(f){try{await B(`/apps/${f}/start`,{method:Le?"GET":"POST"}),re(`Started ${f}`,"success"),await r()}catch(_){re((_==null?void 0:_.message)||"Start failed","error")}}async function c(f){try{await B(`/apps/${f}/stop`,{method:Le?"GET":"POST"}),re(`Stopped ${f}`,"success"),await r()}catch(_){re((_==null?void 0:_.message)||"Stop failed","error")}}return[s,l,i,o,c,f=>o(f.name),f=>c(f.name)]}class dn extends M{constructor(e){super(),F(this,e,fn,un,R,{})}}function pn(n){let e,t=JSON.stringify(n[1],null,2)+"",s;return{c(){e=m("pre"),s=$(t),h(e,"class","text-xs overflow-auto")},m(l,i){b(l,e,i),d(e,s)},p(l,i){i&2&&t!==(t=JSON.stringify(l[1],null,2)+"")&&j(s,t)},d(l){l&&g(e)}}}function _n(n){let e,t;return{c(){e=m("p"),t=$(n[2]),h(e,"class","text-red-600")},m(s,l){b(s,e,l),d(e,t)},p(s,l){l&4&&j(t,s[2])},d(s){s&&g(e)}}}function hn(n){let e;return{c(){e=m("p"),e.textContent="Loading…"},m(t,s){b(t,e,s)},p:k,d(t){t&&g(e)}}}function mn(n){let e,t,s=n[0].name+"",l,i,r;function o(u,f){return u[3]?hn:u[2]?_n:pn}let c=o(n),a=c(n);return{c(){e=m("h2"),t=$("App: "),l=$(s),i=O(),a.c(),r=te(),h(e,"class","text-xl font-semibold mb-4")},m(u,f){b(u,e,f),d(e,t),d(e,l),b(u,i,f),a.m(u,f),b(u,r,f)},p(u,[f]){f&1&&s!==(s=u[0].name+"")&&j(l,s),c===(c=o(u))&&a?a.p(u,f):(a.d(1),a=c(u),a&&(a.c(),a.m(r.parentNode,r)))},i:k,o:k,d(u){u&&(g(e),g(i),g(r)),a.d(u)}}}function gn(n,e,t){let{params:s}=e,l=null,i="",r=!0;return Y(async()=>{try{t(1,l=await B(`/apps/${s.name}`))}catch(o){t(2,i=(o==null?void 0:o.message)||"Failed to load")}finally{t(3,r=!1)}}),n.$$set=o=>{"params"in o&&t(0,s=o.params)},[s,l,i,r]}class bn extends M{constructor(e){super(),F(this,e,gn,mn,R,{params:0})}}function He(n,e,t){const s=n.slice();return s[2]=e[t],s}function Be(n,e){let t,s=e[2].message+"",l;return{key:n,first:null,c(){t=m("div"),l=$(s),h(t,"class","px-3 py-2 rounded shadow text-white text-sm"),L(t,"bg-green-600",e[2].type==="success"),L(t,"bg-red-600",e[2].type==="error"),L(t,"bg-slate-800",e[2].type==="info"),this.first=t},m(i,r){b(i,t,r),d(t,l)},p(i,r){e=i,r&1&&s!==(s=e[2].message+"")&&j(l,s),r&1&&L(t,"bg-green-600",e[2].type==="success"),r&1&&L(t,"bg-red-600",e[2].type==="error"),r&1&&L(t,"bg-slate-800",e[2].type==="info")},d(i){i&&g(t)}}}function Je(n){return{c:k,m:k,d:k}}function yn(n){let e,t=[],s=new Map,l,i=G(n[0]);const r=c=>c[2].id;for(let c=0;c<i.length;c+=1){let a=He(n,i,c),u=r(a);s.set(u,t[c]=Be(u,a))}let o=!n[0].length&&Je();return{c(){e=m("div");for(let c=0;c<t.length;c+=1)t[c].c();l=O(),o&&o.c(),h(e,"class","fixed bottom-4 right-4 space-y-2 z-50")},m(c,a){b(c,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);d(e,l),o&&o.m(e,null)},p(c,[a]){a&1&&(i=G(c[0]),t=dt(t,a,r,1,c,i,s,e,ft,Be,l,He)),c[0].length?o&&(o.d(1),o=null):o||(o=Je(),o.c(),o.m(e,null))},i:k,o:k,d(c){c&&g(e);for(let a=0;a<t.length;a+=1)t[a].d();o&&o.d()}}}function wn(n,e,t){let s;Xe(n,ln,i=>t(0,s=i));let{timeout:l=3e3}=e;return n.$$set=i=>{"timeout"in i&&t(1,l=i.timeout)},n.$$.update=()=>{if(n.$$.dirty&3&&s.length){const i=s[s.length-1].id;setTimeout(()=>rn(i),l)}},[s,l]}class $n extends M{constructor(e){super(),F(this,e,wn,yn,R,{timeout:1})}}function kn(n){let e,t,s;return{c(){e=m("h2"),e.textContent="Storage",t=O(),s=m("p"),s.textContent="Disks, mounts, default root, unlock, and encryption flows will appear here.",h(e,"class","text-xl font-semibold mb-4"),h(s,"class","text-sm text-gray-600")},m(l,i){b(l,e,i),b(l,t,i),b(l,s,i)},p:k,i:k,o:k,d(l){l&&(g(e),g(t),g(s))}}}class vn extends M{constructor(e){super(),F(this,e,null,kn,R,{})}}function xn(n){let e,t,s;return{c(){e=m("h2"),e.textContent="Updates",t=O(),s=m("p"),s.textContent="OS and app updates will be managed here.",h(e,"class","text-xl font-semibold mb-4"),h(s,"class","text-sm text-gray-600")},m(l,i){b(l,e,i),b(l,t,i),b(l,s,i)},p:k,i:k,o:k,d(l){l&&(g(e),g(t),g(s))}}}class Sn extends M{constructor(e){super(),F(this,e,null,xn,R,{})}}function En(n){let e,t,s;return{c(){e=m("h2"),e.textContent="Remote",t=O(),s=m("p"),s.textContent="Configure Nexus and remote access here.",h(e,"class","text-xl font-semibold mb-4"),h(s,"class","text-sm text-gray-600")},m(l,i){b(l,e,i),b(l,t,i),b(l,s,i)},p:k,i:k,o:k,d(l){l&&(g(e),g(t),g(s))}}}class Cn extends M{constructor(e){super(),F(this,e,null,En,R,{})}}function On(n){let e,t,s,l,i,r,o,c,a=JSON.stringify(n[0])+"",u,f,_,y;return i=new vt({props:{routes:n[1]}}),_=new $n({}),{c(){e=m("main"),t=m("header"),t.innerHTML='<div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between"><h1 class="font-semibold">Piccolo OS</h1> <nav class="text-sm space-x-4"><a href="/#/" class="hover:underline">Dashboard</a> <a href="/#/apps" class="hover:underline">Apps</a> <a href="/#/storage" class="hover:underline">Storage</a> <a href="/#/updates" class="hover:underline">Updates</a> <a href="/#/remote" class="hover:underline">Remote</a></nav></div>',s=O(),l=m("section"),J(i.$$.fragment),r=O(),o=m("p"),c=$("Session: "),u=$(a),f=O(),J(_.$$.fragment),h(t,"class","border-b bg-white"),h(o,"class","text-sm text-gray-500 mt-6"),h(l,"class","max-w-6xl mx-auto p-4"),h(l,"id","router-root"),h(e,"class","min-h-screen bg-gray-50 text-gray-900")},m(p,w){b(p,e,w),d(e,t),d(e,s),d(e,l),q(i,l,null),d(l,r),d(l,o),d(o,c),d(o,u),d(e,f),q(_,e,null),y=!0},p(p,[w]){(!y||w&1)&&a!==(a=JSON.stringify(p[0])+"")&&j(u,a)},i(p){y||(T(i.$$.fragment,p),T(_.$$.fragment,p),y=!0)},o(p){I(i.$$.fragment,p),I(_.$$.fragment,p),y=!1},d(p){p&&g(e),H(i),H(_)}}}function Ln(n,e,t){let s;Xe(n,ge,i=>t(0,s=i));const l={"/":nn,"/apps":dn,"/apps/:name":bn,"/storage":vn,"/updates":Sn,"/remote":Cn};return Y(async()=>{await mt(),!window.location.hash&&window.location.pathname!=="/"&&window.location.replace("/#"+window.location.pathname)}),[s,l]}class jn extends M{constructor(e){super(),F(this,e,Ln,On,R,{})}}new jn({target:document.getElementById("app")});
